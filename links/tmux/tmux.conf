###############################################################################
# Variables
###############################################################################

tmux_dir="~/.config/tmux"
tmux_conf_dir="$tmux_dir/config"
tmux_plugins_dir="$tmux_dir/plugins"

###############################################################################
# Configuration
###############################################################################

#source "$tmux_conf_dir/options.conf"
source "$tmux_conf_dir/keybindings.conf"
#source "$tmux_conf_dir/theme.conf"

################################################################################
## Plugins
################################################################################

#set-environment -g TMUX_PLUGIN_MANAGER_PATH "$tmux_plugins_dir"

## List of plugins
#set -g @plugin "tmux-plugins/tpm"

## Sensible default values
#set -g @plugin "tmux-plugins/tmux-sensible"

## Are we connected to the internet?
#set -g @plugin "tmux-plugins/tmux-online-status"

## Mode Indicator
#set -g @plugin "MunifTanjim/tmux-mode-indicator"

## Restore tmux sessions
#set -g @plugin "tmux-plugins/tmux-resurrect"

## Continuous saving of tmux environment - MUST BE LAST
#set -g @plugin "tmux-plugins/tmux-continuum"

## Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
#run "$tmux_plugins_dir/tpm/tpm"


###############################################################################
# STUF BELOW THIS LINE IS OLD
###############################################################################





#===[ Default command
set -g default-command /bin/zsh

# Not directly vim related, but this prevents tmux from waiting after escape
# has been pressed
set -sg escape-time 0

# On the topic of copy/paste, let's turn on the clipboard
set -g set-clipboard on

#===[ Mouse
# This turns the mouse on (need to hold SHIFT to get to system clipboard)
set -g mouse on

# This prevents the incredibly annoying behavior of jumping to the bottom of the screen when you highlight text
unbind -T copy-mode-vi MouseDragEnd1Pane

#===[ Window Naming
# Start window numbers from 1
set -g base-index 1
# don't rename windows automatically
set-option -g allow-rename off

#===[ Scrollback
set-option -g history-limit 50000

#===[ Noise Suppression
# loud or quiet?
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity off
set-option -g bell-action none

#===[ Colors
set -g default-terminal "tmux-256color"
# Taken from here: https://github.com/tmux/tmux/issues/696
# I have no idea how it works, but it makes pretty colors, and that makes me happy
set -ga terminal-overrides ",*-256color:Tc"
  #===[ Panes
  # set -g pane-border-bg colour237
  # set -g pane-border-fg colour237
  set -g pane-border-style bg=colour237,fg=colour237
  # set -g pane-active-border-bg colour241
  # set -g pane-active-border-fg colour241
  set -g pane-active-border-style bg=colour241,fg=colour241

  #===[ Statusbar
  set -g status-position bottom
  set -g status-justify left
  set -g status-bg colour241
  set -g status-left ''
  set -g status-right '#[fg=colour232,bg=colour241,bold] #{?pane_synchronized,sync,} #{client_session} #[fg=colour248,bg=colour232,bold] %m/%d #[fg=colour232,bg=colour241,bold] %H:%M:%S '
  set -g status-right-length 50
  set -g status-left-length 20

  #===[ Active/Inactive Windows

  #set inactive/active window styles
  set -g window-style fg=default,bg=default
  set -g window-active-style fg=default,bg=black

  # set the pane border colors
  set -g pane-border-style bg=default,fg=colour241
  set -g pane-active-border-style bg=colour241,fg=colour241

  setw -g window-status-current-style bg=colour232,fg=colour248,bold
  setw -g window-status-current-format ' #I:#W#[fg=colour1]#F '

  #===[ Messages
  # set -g message-attr bold
  # set -g message-fg colour4
  # set -g message-bg colour16
  set -g message-style bg=colour16,fg=colour4,bold
