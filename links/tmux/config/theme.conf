# Enable true color (24 bit)
# NOTE: xterm-256color is the default value for $TERM
# when NOT inside tmux. This might be different for different terminals.
set-option -a terminal-features 'xterm-256color:RGB'

# The following handles the "dimming" of inactive windows. Notice that there are
# no settings to handle "inactive" windows. There are only settings for "all"
# windows, and "active" windows. So the algorithm here is to set the background
# color of all windows to the inactive color, and then "override" the background
# color of the active window to the active color.

# This is required to allow inactive windows to have a different background
# color than the active window.
set -g focus-events on

# TokyoNight color palette
# Backgrounds
active_bg="#222436"        # Default tokyonight-moon background color
inactive_bg="#1a1b26"      # Default tokyonight-night background color
status_bg="#1e2030"        # Status bar background
highlight_bg="#3b4261"     # Highlighted/selected background
dark_bg="#1b1d2b"          # Dark background for session/host

# Foregrounds
blue_fg="#82aaff"          # Primary blue foreground
muted_fg="#828bb8"         # Muted/dimmed foreground

set -g window-active-style fg=default,bg=$active_bg
set -g window-style fg=default,bg=$inactive_bg

# TokyoNight colors for Tmux

set -g mode-style "fg=$blue_fg,bg=$highlight_bg"

set -g message-style "fg=$blue_fg,bg=$highlight_bg"
set -g message-command-style "fg=$blue_fg,bg=$highlight_bg"

set -g pane-border-style "fg=$highlight_bg,bg=$inactive_bg"
set -g pane-active-border-style "fg=$blue_fg,bg=$inactive_bg"

set -g status "on"
set -g status-justify "left"

set -g status-style "fg=$blue_fg,bg=$status_bg"

set -g status-left-length "100"
set -g status-right-length "100"

set -g status-left-style NONE
set -g status-right-style "NONE,fg=$muted_fg,bg=$status_bg"

set -g status-left "#[fg=$dark_bg,bg=$blue_fg,bold] #S #[fg=$blue_fg,bg=$status_bg,nobold,nounderscore,noitalics]"

set -g status-right '#[default]'
set -ag status-right '#(cd #{pane_current_path}; git rev-parse --is-inside-work-tree >/dev/null 2>&1 && echo " $(git rev-parse --abbrev-ref HEAD) ")'
set -ag status-right "#[fg=$status_bg,bg=$status_bg,nobold,nounderscore,noitalics]#[fg=$blue_fg,bg=$status_bg] #{prefix_highlight} #[fg=$highlight_bg,bg=$status_bg,nobold,nounderscore,noitalics]#[fg=$blue_fg,bg=$highlight_bg] %Y-%m-%d  %H:%M #[fg=$blue_fg,bg=$highlight_bg,nobold,nounderscore,noitalics]#[fg=$dark_bg,bg=$blue_fg,bold] #h "

setw -g window-status-activity-style "underscore,fg=$muted_fg,bg=$status_bg"
setw -g window-status-separator ""
setw -g window-status-style "NONE,fg=$muted_fg,bg=$status_bg"
setw -g window-status-format "#[fg=$status_bg,bg=$status_bg,nobold,nounderscore,noitalics]#[default] #I  #W #F #[fg=$status_bg,bg=$status_bg,nobold,nounderscore,noitalics]"
setw -g window-status-current-format "#[fg=$status_bg,bg=$highlight_bg,nobold,nounderscore,noitalics]#[fg=$blue_fg,bg=$highlight_bg,bold] #I  #W #F #[fg=$highlight_bg,bg=$status_bg,nobold,nounderscore,noitalics]"
